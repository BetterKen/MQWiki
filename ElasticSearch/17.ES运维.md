#  17 ES运维

我使用的是阿里云的ES服务,提供智能运维诊断,可以自动进行诊断且给出诊断建议

如果是自建的ES服务,需要关注以下指标:

- **慢日志**

- **进群状态:red,yellow,green**

- **查询的QPS**

- **写QPS**

- **节点CPU使用率,CPU异常可能的原因:**
  - **监控期间查询QPS或写入QPS流量存在突增或波动比较大的情况**
  - **监控期间存在个别慢查询或慢写入请求**
  - **监控期间该ES集群中存在大量索引或总分片数量非常多**
  - **监控期间在该集群上执行过Merge操作。**
  - **监控期间执行过GC操作**
  - **监控期间执行过定时任务**

- **磁盘使用率,建议在75%以下**

- **节点HeapMemory使用率**

- **节点1分钟内的负载情况**

  

**注意:一定要对数据进行备份!**



附可以做的运维监控:

![](http://dist415.oss-cn-beijing.aliyuncs.com/esop.png)