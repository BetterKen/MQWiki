# 15 ES写性能优化

- **增大写吞吐量（Events Per Second），越高越好**
- **客户端:多线程,批量写**
- **建立高质量的数据建模,反范式化**
- **关闭无关的功能:**
  - **只需要聚合不需要搜索，Index 设置成 false** 
  - **不需要算分，Norms 设置成 false** 
  - **不要对字符串使用默认的 dynamic mapping。字段 数量过多，会对性能产生比较大的影响** 
  - **Index_options 控制在创建倒排索引时，哪些内容 会被添加到倒排索引中。优化这些设置，一定程度 可以节约 CPU** 
  - **指标型数据关闭 _source，减少 IO 操作**
- **降低refresh频率**
- **降低translog频率**
- **副本数可以在写入时设置为0,完成后再增加**